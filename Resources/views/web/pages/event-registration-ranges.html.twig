{% extends '@OswisOrgOswisCore/web/page-skeleton-default.html.twig' %}

{% block body_content %}
    <main class="container" id="main-content-container">
        <div class="row">
            <div class="col-12">
                <header class="text-uppercase">
                    <h2>
                        <span class="d-block d-md-none">{{ shortTitle|default(title|default) }}</span>
                        <span class="d-none d-md-block">{{ title|default(shortTitle|default) }}</span>
                    </h2>
                </header>
            </div>
        </div>
        {% for eventRanges in events %}
            {% if eventRanges.ranges|length > 0 %}
                <div class="row">
                    <div class="col-12 mt-3">
                        <h3>
                            <a href="{{ path('oswis_org_oswis_calendar_web_registration_ranges', {'eventSlug': eventRanges.event.slug}) }}">
                                <span class="d-block d-md-none">{{ eventRanges.event.shortName|default }}</span>
                                <span class="d-none d-md-block">{{ eventRanges.event.name|default }}</span>
                            </a>
                        </h3>
                    </div>
                </div>
                {% for range in eventRanges.ranges %}
                    {% include '@OswisOrgOswisCalendar/web/parts/event-participant-registration-range-preview.html.twig' with {'event': eventRanges.event} %}
                {% endfor %}
            {% endif %}
        {% endfor %}
    </main>
{% endblock %}

{% block body_breadcrumbs %}
    {% if event|default %}
        {% include '@OswisOrgOswisCalendar/web/parts/event-subpages-breadcrumbs.html.twig' %}
    {% elseif events|length == 1 %}
        {% include '@OswisOrgOswisCalendar/web/parts/event-subpages-breadcrumbs.html.twig' with {'event': events|first} %}
    {% else %}
        {{ parent() }}
    {% endif %}
{% endblock body_breadcrumbs %}

